{# templates/boards/invest_write.html #}
<link rel="stylesheet" href="/static/css/boards/write.css">

<div class="main-content">
  <div class="content-box">
    <div class="write-wrapper">
      <div class="write-container">
        <h2>ğŸ“ ê¸€ì“°ê¸°</h2>

        {% if error %}
          <div class="error">{{ error }}</div>
        {% endif %}

        <form method="post"
              action="{{ request.url_for('invest_write_save') }}"
              enctype="multipart/form-data">

          <div class="form-group">
            <label for="category">ë§ë¨¸ë¦¬</label>

            {# ì„œë²„ì—ì„œ tabs(ë¦¬ìŠ¤íŠ¸)ê°€ ì˜¤ë©´ ê·¸ê±¸ë¡œ, ì•„ë‹ˆë©´ ê¸°ë³¸ íˆ¬ì ì¹´í…Œê³ ë¦¬ë¡œ #}
            {% set default_tabs = ['ë¹„íŠ¸ì½”ì¸','êµ­ë‚´ì£¼ì‹','í•´ì™¸ì£¼ì‹','ì¢…ëª©í† ë¡ ','ì •ë³´ê³µìœ ','ì´ë²¤íŠ¸','ê³µì§€','ì¡ë‹´'] %}
            {% set options = tabs if tabs is defined and tabs else default_tabs %}

            <select name="category" id="category" required>
              <option value="">-- ì„ íƒ --</option>
              {% for tab in options %}
                <option value="{{ tab }}" {% if category_value == tab %}selected{% endif %}>{{ tab }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="form-group">
            <label for="title">ì œëª©</label>
            <input type="text" name="title" id="title" value="{{ title or '' }}" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
          </div>

          <div class="form-group">
            <label for="content">ë‚´ìš©</label>
            <textarea name="content" id="content" rows="12" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required>{{ content or '' }}</textarea>
          </div>

          {# ì¼ë°˜ ì‚¬ìš©ìëŠ” ì‘ì„±ì í•„ë“œë¥¼ ìˆ¨ê¸°ê³  ë‹‰ë„¤ì„ì„ ìë™ìœ¼ë¡œ ì‚¬ìš© #}
          {% if current_user and not current_user.is_admin %}
            <input type="hidden" name="author" value="{{ current_user.nickname or current_user.name }}">
            <div class="form-group">
              <label>ì‘ì„±ì</label>
              <div class="author-display">
                <span class="author-text">{{ current_user.nickname or current_user.name }}</span>
                <small class="author-note">(ë¡œê·¸ì¸í•œ ì‚¬ìš©ì)</small>
              </div>
            </div>
          {% else %}
            {# ì–´ë“œë¯¼ì€ ì‘ì„±ìë¥¼ ì§ì ‘ ì…ë ¥í•  ìˆ˜ ìˆìŒ #}
            <div class="form-group">
              <label for="author">ì‘ì„±ì</label>
              <input type="text" name="author" value="{{ author or '' }}" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>
          {% endif %}

          <div class="form-group">
            <label for="files">íŒŒì¼ ì²¨ë¶€</label>
            <input type="file" name="files" multiple>
          </div>

          <div class="form-footer">
            <button type="submit">ì‘ì„± ì™„ë£Œ</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
