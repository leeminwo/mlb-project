<!-- ë“±ê¸‰ ë°°ì§€ ì»´í¬ë„ŒíŠ¸ -->
{% macro level_badge(user_level_info, size='normal') %}
  {% if user_level_info %}
    <span class="level-badge level-{{ user_level_info.level }} level-badge-{{ size }}">
      <span class="level-icon">
        {% if user_level_info.level <= 3 %}â­{% elif user_level_info.level <= 5 %}ğŸŒŸ{% elif user_level_info.level <= 7 %}ğŸ’«{% elif user_level_info.level <= 9 %}âœ¨{% else %}ğŸ”¥{% endif %}
      </span>
      <span>Lv.{{ user_level_info.level }} {{ user_level_info.level_name }}</span>
    </span>
  {% endif %}
{% endmacro %}

<!-- ë“±ê¸‰ ì •ë³´ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ -->
{% macro level_card(user_level_info) %}
  {% if user_level_info %}
    <div class="level-card">
      <h3>ğŸ¯ íšŒì› ë“±ê¸‰ ì •ë³´</h3>
      
      <div class="level-info">
        <span class="level-badge level-badge-lg level-{{ user_level_info.level }}">
          <span class="level-icon">
            {% if user_level_info.level <= 3 %}â­{% elif user_level_info.level <= 5 %}ğŸŒŸ{% elif user_level_info.level <= 7 %}ğŸ’«{% elif user_level_info.level <= 9 %}âœ¨{% else %}ğŸ”¥{% endif %}
          </span>
          <span>Lv.{{ user_level_info.level }} {{ user_level_info.level_name }}</span>
        </span>
      </div>
      
      <div>
        <div>ê²½í—˜ì¹˜: {{ user_level_info.exp }} / {{ user_level_info.next_level_exp }}</div>
        <div class="exp-bar">
          <div class="exp-progress" style="width: {{ user_level_info.exp_progress }}%"></div>
        </div>
        <div style="font-size: 12px; color: #666;">
          ë‹¤ìŒ ë“±ê¸‰ê¹Œì§€ {{ user_level_info.next_level_exp - user_level_info.exp }} ê²½í—˜ì¹˜ í•„ìš”
        </div>
      </div>
      
      <div class="level-stats">
        <div class="stat-item">
          <div class="stat-value">{{ user_level_info.total_posts }}</div>
          <div class="stat-label">ê²Œì‹œê¸€</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">{{ user_level_info.total_comments }}</div>
          <div class="stat-label">ëŒ“ê¸€</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">{{ user_level_info.total_likes }}</div>
          <div class="stat-label">ë°›ì€ ì¶”ì²œ</div>
        </div>
      </div>
    </div>
  {% endif %}
{% endmacro %}

<!-- ë“±ê¸‰ ì—… ì•Œë¦¼ -->
{% macro level_up_notification(level_info) %}
  {% if level_info %}
    <div class="level-up-notification" id="levelUpNotification">
      <div style="font-size: 16px; font-weight: bold; margin-bottom: 4px;">
        ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ë“±ê¸‰ì´ ì˜¬ëìŠµë‹ˆë‹¤!
      </div>
      <div>
        Lv.{{ level_info.level }} {{ level_info.level_name }} ë‹¬ì„±!
      </div>
    </div>
    
    <script>
      setTimeout(function() {
        const notification = document.getElementById('levelUpNotification');
        if (notification) {
          notification.style.animation = 'slideIn 0.3s ease reverse';
          setTimeout(() => notification.remove(), 300);
        }
      }, 3000);
    </script>
  {% endif %}
{% endmacro %}
